function e(){c.style.marginTop=parseInt(m)-1+"px",m=c.style.marginTop,c.style.opacity=parseFloat(c.style.opacity)-.02+"",parseInt(m)>-20?setTimeout(function(){e()},10):(c.style.display="none",r("main")[0].style.cursor="move")}function t(e){console.log(this),this.parentElement.parentElement.style.opacity="0.4"}function n(e){return e.preventDefault&&e.preventDefault(),e.dataTransfer.dropEffect="move",!1}function a(e){var t=e.parentElement.getElementsByTagName("textarea");if(t.length>0)return void e.parentElement.removeChild(t[0]);var n=document.createElement("textarea");n.innerHTML="Input some biography/notes here",o("infoAdd")[0].parentElement.appendChild(n)}function r(e){return document.getElementsByTagName(e)}function l(e){return document.getElementById(e)}function o(e){return document.getElementsByClassName(e)}var s=l("sliderScale"),i=!1,c=l("greetingText"),m=getComputedStyle(c)["margin-top"],d=o("singlePerson"),p=null,u=!1,g=o("scaleNumber")[0];c.style.opacity="1",s.value="100",s.onchange=function(e){o("scaleNumber")[0].innerHTML=s.value+"%",r("main")[0].style.transform="scale("+parseInt(s.value)/100+")"},document.querySelectorAll("ul.formats li")[0].onclick=function(){var e=new XMLHttpRequest;e.open("POST","ajaxer.php",!0),e.onreadystatechange=function(){4==e.readyState&&(200==e.status?console.log(e.responseText):console.log("error: "+e.statusText))};var t=new FormData;t.append("htmlToParse",document.documentElement.innerHTML),e.send(t)},g.onclick=function(t){s.style.display="block",i||(i=!0,e())};var y=document.querySelectorAll(".movePersonCircle");[].forEach.call(y,function(e){e.addEventListener("dragstart",t,!1),e.addEventListener("dragover",n,!1)}),document.onclick=function(t){var n=t.target,l=n.className;if(t.target!=s&&t.target!=g&&(s.style.display="none"),"singlePerson"===l||"emptyPersonImage"===l){i||e(),"emptyPersonImage"===l&&(n=n.parentElement);for(var c=o("addTree"),m=0;m<c.length;m++)c[m].className.indexOf("treeShown")===-1&&(c[m].style.display="inline-block");var d=document.createEvent("MouseEvents");d.initEvent("click",!1,!0);var y=n.getElementsByTagName("input")[0];return y.dispatchEvent(d),void(y.onchange=function(e){if(y.files&&y.files[0]){var t=new FileReader;t.onload=function(e){0==u&&(o("helpText")[0].style.display="block");var t=n.getElementsByTagName("img")[0];t.src=e.target.result,t.onload=function(){t.style.width="256px"},p=t},t.readAsDataURL(y.files[0])}})}if("infoAdd"===l)return void a(n);if(l.indexOf("addTree")>-1){var f=n.parentElement.getElementsByClassName("leftTree")[0],h=!0;l.indexOf("right")>-1&&(f=n.parentElement.getElementsByClassName("rightTree")[0],h=!1),f.style.display="block",n.className+=" treeShown";var v=f.getBoundingClientRect(),E=document.createElement("div");E.className="singlePersonWrapper",E.style.position="absolute",h?E.style.left=v.left-80+"px":E.style.left=v.right-180+"px",E.style.top=v.top-v.bottom+40+"px";for(var T=document.getElementsByClassName("personHolder")[0].cloneNode(!0),m=0;m<T.children.length;m++){var x=T.children[m],N=x.className;x.className=N.replace("treeShown",""),N.indexOf("Tree")>-1&&"IMG"==x.nodeName&&x.removeAttribute("style"),"singlePerson"==N&&(x.children[1].src="images/noperson.svg",x.children[1].removeAttribute("style"))}E.appendChild(T),r("section")[0].appendChild(E),console.log(document.getElementsByClassName("rightTree")[1].y);for(var C=o("personHolder")[o("personHolder").length-1],m=0;m<C.childElementCount;m++){var w=C.children[m];w.className.indexOf("Tree")>-1&&"IMG"==w.nodeName&&console.log(w.Y)}}},document.onkeydown=function(e){if(null!=p)switch(e.key){case"ArrowUp":p.style.marginTop=parseInt(getComputedStyle(p)["margin-top"])-1+"px";break;case"ArrowDown":p.style.marginTop=parseInt(getComputedStyle(p)["margin-top"])+1+"px";break;case"ArrowLeft":p.style.marginLeft=parseInt(getComputedStyle(p)["margin-left"])-1+"px";break;case"ArrowRight":p.style.marginLeft=parseInt(getComputedStyle(p)["margin-left"])+1+"px";break;case"+":p.style.width=parseInt(getComputedStyle(p).width)+1+"px";break;case"-":p.style.width=parseInt(getComputedStyle(p).width)-1+"px"}},l("closeButton").onclick=function(){o("helpText")[0].style.display="none",u=!0};